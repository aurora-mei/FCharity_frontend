.gemini-chatbox-container {
  display: flex;
  flex-direction: column;
  height: 600px; /* Hoặc chiều cao mong muốn */
  max-width: 700px;
  margin: 2rem auto;
  border: 1px solid #d9d9d9;
  border-radius: 8px;
  overflow: hidden;
  background-color: #fff;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.chat-display-area {
  flex-grow: 1;
  overflow-y: auto;
  padding: 15px;
  background-color: #f9f9f9;
  border-bottom: 1px solid #d9d9d9;

  .ant-list-item {
    border-bottom: none !important; /* Tắt đường kẻ mặc định của List Item */
    padding: 8px 0; /* Giảm padding */
  }

  .chat-message {
    margin-bottom: 15px;
    max-width: 85%; /* Tin nhắn không chiếm toàn bộ chiều rộng */

    .ant-list-item-meta {
      align-items: flex-start; /* Căn avatar và nội dung lên trên */
    }
    .ant-list-item-meta-content {
        background-color: #fff;
        padding: 10px 15px;
        border-radius: 10px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.08);
    }
    .ant-list-item-meta-avatar {
        margin-top: 4px; /* Căn avatar tốt hơn */
    }
     .ant-list-item-meta-title {
        font-weight: bold;
        margin-bottom: 4px;
        font-size: 0.9em;
        color: #555;
     }
      /* Đảm bảo text của AI không bị tràn */
      .ant-typography {
        word-break: break-word; /* Hoặc break-all tùy ý */
        overflow-wrap: break-word;
      }
  }

  .user-message {
    margin-left: auto; /* Đẩy tin nhắn người dùng sang phải */
    text-align: right; /* Căn text sang phải */

    .ant-list-item-meta {
        flex-direction: row-reverse; /* Đảo avatar và content */
    }
    .ant-list-item-meta-content {
        background-color: #e6f7ff; /* Màu nền cho tin nhắn người dùng */
         text-align: left; /* Căn text trong box lại sang trái */
    }
    .ant-list-item-meta-avatar {
        margin-left: 10px; /* Khoảng cách avatar bên phải */
        margin-right: 0;
    }
     .ant-list-item-meta-title {
        text-align: right; /* Căn title sang phải */
     }
  }

  .ai-message {
    margin-right: auto; /* Đẩy tin nhắn AI sang trái */
    .ant-list-item-meta-content {
        background-color: #ffffff; /* Màu nền cho tin nhắn AI */
    }
    .ant-list-item-meta-avatar {
        margin-right: 10px; /* Khoảng cách avatar bên trái */
    }
  }

  .loading-indicator, .error-message {
    text-align: center;
    padding: 10px;
    color: #888;
  }
   .error-message {
        color: #ff4d4f;
   }
}

.chat-input-area {
  display: flex;
  align-items: center; /* Căn giữa các item theo chiều dọc */
  padding: 15px;
  background-color: #fff;

  .ant-input-textarea-wrapper {
      flex-grow: 1; /* Cho phép textarea chiếm hết không gian còn lại */
  }
}
.gemini-chatbox-container {
  display: flex;
  flex-direction: column;
  /* Loại bỏ height cố định nếu nó nằm trong wrapper có flex-grow */
  /* height: 600px; */
  width: 100%; /* Chiếm toàn bộ wrapper */
  height: 100%; /* Chiếm toàn bộ wrapper */
  background-color: #fff;
  /* Bỏ border/shadow nếu nằm trong wrapper */
  border: none;
  box-shadow: none;
  margin: 0;
}

.chat-display-area {
  flex-grow: 1;
  overflow-y: auto;
  padding: 15px;
  background-color: #f9f9f9;
  /* Bỏ border-bottom nếu wrapper có header */
  /* border-bottom: 1px solid #d9d9d9; */

  /* Tùy chỉnh phần tử rỗng của Ant List */
  .ant-list-empty-text {
      padding: 20px 0; /* Thêm padding cho nội dung custom */
  }

  .ant-list-item {
    border-bottom: none !important;
    padding: 8px 0;
  }

  .chat-message {
    margin-bottom: 15px;
    max-width: 90%; /* Có thể tăng max-width một chút */

    .ant-list-item-meta {
      align-items: flex-start;
    }
    .ant-list-item-meta-content {
        background-color: #fff;
        padding: 10px 15px;
        border-radius: 10px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.08);
        /* Đảm bảo không bị tràn nội dung */
        overflow: hidden;
    }
    .ant-list-item-meta-avatar {
        margin-top: 4px;
    }
     .ant-list-item-meta-title {
        font-weight: bold;
        margin-bottom: 4px;
        font-size: 0.9em;
        color: #555;
     }
      /* Đảm bảo text được ngắt dòng đúng cách */
      .ant-list-item-meta-description .ant-typography {
        white-space: pre-wrap; /* Giữ nguyên các dấu xuống dòng */
        word-break: break-word; /* Quan trọng: Ngắt các từ/chuỗi dài */
        overflow-wrap: break-word; /* Tương tự word-break */
        margin: 0; /* Reset margin của Paragraph */
      }
  }

  /* ... (Các style cho .user-message, .ai-message như trước) ... */
   .user-message {
    margin-left: auto; /* Đẩy tin nhắn người dùng sang phải */
    .ant-list-item-meta {
        flex-direction: row-reverse; /* Đảo avatar và content */
    }
    .ant-list-item-meta-content {
        background-color: #e6f7ff; /* Màu nền cho tin nhắn người dùng */
    }
    .ant-list-item-meta-avatar {
        margin-left: 10px; /* Khoảng cách avatar bên phải */
        margin-right: 0;
    }
  }

  .ai-message {
    margin-right: auto; /* Đẩy tin nhắn AI sang trái */
    .ant-list-item-meta-content {
        background-color: #ffffff; /* Màu nền cho tin nhắn AI */
    }
    .ant-list-item-meta-avatar {
        margin-right: 10px; /* Khoảng cách avatar bên trái */
    }
  }


  .loading-indicator, .error-message {
    text-align: center;
    padding: 10px;
    color: #888;
    /* Đặt ở cuối danh sách nhưng không bị scroll mất */
    position: sticky;
    bottom: 0;
    background: #f9f9f9; /* Nền giống display area */
    z-index: 1; /* Nổi lên trên tin nhắn */
  }
   .error-message .ant-typography-danger{ /* Style riêng cho text lỗi */
        display: inline-block; /* Để có thể đặt background */
        background-color: #fffbe6;
        border: 1px solid #ffe58f;
        padding: 5px 10px;
        border-radius: 4px;
   }
}

.chat-input-area {
  display: flex;
  align-items: center;
  padding: 10px 15px; /* Giảm padding một chút */
  background-color: #fff;
  border-top: 1px solid #f0f0f0; /* Thêm border top */
  flex-shrink: 0; /* Không cho co lại */

  .ant-input-textarea-wrapper {
      flex-grow: 1;
  }
}